webpackJsonp([7],{LpKr:function(t,e){},a3DY:function(t,e){},kAMY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("fZjL"),s=a.n(i),n=a("TUEd"),r=a("Rq22"),o=a("skEV"),l=a("RA0d"),h=a("ie08"),c=a("5wXm"),d={name:"PiePie",components:{Pie:a("TgKm").a},props:{dataList:{type:Array,default:function(){return[{title:"榆林市",data:[{title:"2018-06月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"超重"}]},{title:"2018-07月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"超重"}]},{title:"2018-08月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"超重"}]}]},{title:"商洛市",data:[{title:"2018-06月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"超重"}]},{title:"2018-07月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"超重"}]},{title:"2018-08月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"超重"}]}]}]}}},data:function(){return{color:["#315bff","#7193ff","#53e9ee","#ffe98f","#7343ff"],pieSize:{radius:["0%","55%"],center:["50%","45%"],title:{top:0,fontSize:14}}}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"piePie-box"},[a("ul",{staticClass:"piePie"},t._l(t.dataList,function(e,i){return a("li",{key:i},[a("h3",{staticClass:"locationTitle iconfont"},[t._v(t._s(e.title))]),t._v(" "),a("ul",[a("li",[a("pie",{attrs:{data:e.data[0].data,title:e.data[0].title,color:t.color,pieSize:t.pieSize,legendShow:!1}})],1),t._v(" "),a("li",[a("pie",{attrs:{data:e.data[1].data,title:e.data[1].title,color:t.color,pieSize:t.pieSize,legendShow:!1}})],1),t._v(" "),a("li",[a("pie",{attrs:{data:e.data[2].data,title:e.data[2].title,color:t.color,pieSize:t.pieSize,legendShow:!1}})],1)])])}))])},staticRenderFns:[]};var u=a("VU/8")(d,v,!1,function(t){a("a3DY")},"data-v-f1e26b94",null).exports,m=a("q7dB"),g=a("VAfJ"),w={name:"HealthyContrast",components:{ElCheckbox:n.a,DatePicker:r.a,ElRadio:o.a,ElLine:l.a,MonthRange:h.a,Bar:c.a,PiePie:u,ElSummary:g.a},data:function(){return{cityList:this.$store.state.mapArea.list,areaLevel:this.$store.state.mapArea.level,areaName:this.$store.state.mapArea.name,isOnce:!0,growthC:{time:{startTime:"2018-07-29",endTime:"2018-07-30"},sex:"男童",grade:"托班",data:[]},growthL:{time:{startTime:"2018-07-29",endTime:"2018-07-30"},cityList:this.$store.state.mapArea.list.slice(0,3),sex:"男童",grade:"托班",data:[]},sex:["男童","女童"],grade:["托班","小班","中班","大班"],summary:{c:"...",l:"..."},averageHeight:{xData:["白河县","白河县","白河县","白河县","白河县","白河县","白河县","白河县"],data:[137,145,134,124,136,135,143,147],linearGradient:["#33b3b7","#53e9ee"],yName:"身高（cm）",labelHide:!0,labelNuit:"{c}",grid:{top:"18%",left:"0%",right:"0%",bottom:"0%",containLabel:!0}},averageWeight:{xData:["白河县","白河县","白河县","白河县","白河县","白河县","白河县","白河县"],data:[20,24,25,26,28,23,22,21],linearGradient:["#d0bb66","#ffe98f"],yName:"体重（kg）",labelHide:!0,labelNuit:"{c}",grid:{top:"18%",left:"0%",right:"0%",bottom:"0%",containLabel:!0}},dataList:[{title:"榆林市",data:[{title:"2018-06月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"偏重"},{value:0,name:"超重"}]},{title:"2018-07月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"偏重"},{value:0,name:"超重"}]},{title:"2018-08月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"偏重"},{value:0,name:"超重"}]}]},{title:"商洛市",data:[{title:"2018-06月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"偏重"},{value:0,name:"超重"}]},{title:"2018-07月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"偏重"},{value:0,name:"超重"}]},{title:"2018-08月",data:[{value:0,name:"偏轻"},{value:0,name:"均值"},{value:0,name:"肥胖"},{value:0,name:"偏重"},{value:0,name:"超重"}]}]}]}},computed:{levelByte:function(){var t={curr:"省",lower:"市"};switch(this.areaLevel){case"省级":t={curr:"省",lower:"市"};break;case"市级":t={curr:"市",lower:"县"};break;case"县级":t={curr:"县",lower:"园"}}return t}},mounted:function(){this.$common.border(window.$(".contrast")),this.timeSlot(7,211),this.timeSlot(90,212),window.$(".title-date li").click(function(){window.$(this).closest("li").addClass("on").siblings().removeClass("on")})},watch:{"growthC.time":{deep:!0,handler:function(){this.getGrowthC()}},"growthC.sex":{deep:!0,handler:function(){this.dayGrowthC()}},"growthC.grade":{deep:!0,handler:function(){this.dayGrowthC()}},"growthL.time":{deep:!0,handler:function(){this.getGrowthL()}},"growthL.cityList":{deep:!0,handler:function(){this.getGrowthL()}},"growthL.sex":{deep:!0,handler:function(){this.getGrowthL()}},"growthL.grade":{deep:!0,handler:function(){this.getGrowthL()}}},methods:{getGrowthC:function(){var t=this,e={},a=this.growthC.time.startTime+" 00:00:01",i=this.growthC.time.endTime+" 23:59:59",s=this.getAreaId(this.areaName);switch(this.areaLevel){case"省级":e={ProvinceId:s[0].ProvinceId,CityId:0,DistrictId:0,Gid:0,IsMonth:!1,StartDate:a,EndDate:i};break;case"市级":e={ProvinceId:s[0].ProvinceId,CityId:s[0].CityId,DistrictId:0,Gid:0,IsMonth:!1,StartDate:a,EndDate:i};break;case"县级":e={ProvinceId:s[0].ProvinceId,CityId:s[0].CityId,DistrictId:s[0].DistrictId,Gid:0,IsMonth:!1,StartDate:a,EndDate:i}}window.$.ajax({url:"http://api.youjiaoyun.net/weixin.asmx/GetAvgBodyCheckResult?jsoncallback=?",dataType:"jsonp",data:e,jsonp:"jsoncallback",async:!1,success:function(e){t.growthC.data=e,t.dayGrowthC()}})},dayGrowthC:function(){var t=this,e=this.growthC.data,a=0,i=1;switch(this.growthC.sex){case"女童":a=0;break;case"男童":a=1}switch(this.growthC.grade){case"托班":i=1;break;case"小班":i=2;break;case"中班":i=3;break;case"大班":i=4}for(var s=e.filter(function(t){return t.Gender===a&&t.GradeNum===i}),n={name:[],value:{height:[],weight:[]}},r=function(e,a){var i=s.filter(function(a){return a.AreaName===t.cityList[e]});i[0]?(n.name.push(t.cityList[e]),n.value.height.push(i[0].AvgHeight),n.value.weight.push(i[0].AvgWeight)):(n.name.push(t.cityList[e]),n.value.height.push(0),n.value.weight.push(0),t.averageHeight.xData=n.name)},o=0,l=this.cityList.length;o<l;o++)r(o);this.averageHeight.xData=n.name,this.averageHeight.data=n.value.height,this.averageWeight.xData=n.name,this.averageWeight.data=n.value.weight;var h={height:[],weight:[]};for(o=0,l=n.name.length;o<l;o++)h.height.push({name:n.name[o],value:n.value.height[o]}),h.weight.push({name:n.name[o],value:n.value.weight[o]});h={height:this.$common.compareSort(h.height,"value"),weight:this.$common.compareSort(h.weight,"value")};var c="";c=s.length?"在全"+this.levelByte.curr+"范围下，各"+this.levelByte.lower+"在"+this.growthC.time.startTime+"至"+this.growthC.time.endTime+"的对比情况如下：<br>平均身高最高："+h.height[0].name+" 平均体重最重："+h.weight[0].name+"<br>平均身高最低："+h.height[h.height.length-1].name+" 平均体重最轻："+h.weight[h.weight.length-1].name:"暂无总结",this.summary.c=c},getMonthDays:function(t){var e=(new Date).getYear();e+=e<2e3?1900:0;var a=new Date(e,t,1);return(new Date(e,t+1,1)-a)/864e5},getGrowthL:function(){var t=this.growthL.cityList;this.dataList=[];for(var e=0,a=t.length;e<a;e++)this.dataList.push({title:t[e],data:[{title:"",data:[]},{title:"",data:[]},{title:"",data:[]}]});var i=new Date,s=i.getMonth(),n=this.getMonthDays(s),r=i.getFullYear()+"-"+(i.getMonth()+1)+"-01",o=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+n;this.GetGrowthL(r,o,0),n=this.getMonthDays(s-1),r=i.getFullYear()+"-"+i.getMonth()+"-01",o=i.getFullYear()+"-"+i.getMonth()+"-"+n,this.GetGrowthL(r,o,1),n=this.getMonthDays(s-2),r=i.getFullYear()+"-"+(i.getMonth()-1)+"-01",o=i.getFullYear()+"-"+(i.getMonth()-1)+"-"+n,this.GetGrowthL(r,o,2)},GetGrowthL:function(t,e,a){var i=this,s=this.getAreaId(this.areaName),n={};switch(this.areaLevel){case"省级":n={ProvinceId:s[0].ProvinceId,CityId:0,DistrictId:0,Gid:0,IsMonth:!0,StartDate:t,EndDate:e};break;case"市级":n={ProvinceId:s[0].ProvinceId,CityId:s[0].CityId,DistrictId:0,Gid:0,IsMonth:!0,StartDate:t,EndDate:e};break;case"县级":n={ProvinceId:s[0].ProvinceId,CityId:s[0].CityId,DistrictId:s[0].DistrictId,Gid:0,IsMonth:!0,StartDate:t,EndDate:e}}window.$.ajax({url:"http://api.youjiaoyun.net/weixin.asmx/GetBodyCheckResultList?jsoncallback=?",dataType:"jsonp",data:n,jsonp:"jsoncallback",async:!1,success:function(e){i.growthL.data=e,i.MonthGrowthL(t,a)}})},avgHW:function(t,e,a){var i=[],n=[];if("省级"===this.$store.state.mapArea.level)n=t.filter(function(t){return t.Gender===e});else{var r="";switch(this.$store.state.mapArea.level){case"省级":r="CityName";break;case"市级":r="DistrictName";break;case"县级":r="GardenName"}n=t.filter(function(t){return t.Gender===e&&t[r]===a})}if(n=this.$common.compare(n,"BMIResult"),0!==s()(n).length){var o={"偏轻":0,"均值":0,"肥胖":0,"偏重":0,"超重":0};for(var l in o)n[l]?o[l]=n[l]:o[l]=0;window.$.each(o,function(t,e){i.push({name:t,value:e})})}else i=[{name:"暂无数据",value:0}];return i},MonthGrowthL:function(t,e){var a=this,i=this.growthL.data,s=0,n=1;switch(this.growthL.sex){case"女童":s=0;break;case"男童":s=1}switch(this.growthL.grade){case"托班":n=1;break;case"小班":n=2;break;case"中班":n=3;break;case"大班":n=4}var r="";switch(this.areaLevel){case"省级":r="CityName";break;case"市级":r="DistrictName";break;case"县级":r="GardenName"}for(var o=i.filter(function(t){return t.Gender===s&&t.GradeNum===n}),l=this.growthL.cityList,h=function(i,n){var h=o.filter(function(t){return t[r]===l[i]}),c=a.avgHW(h,s,l[i]);a.dataList[i].title=l[i],a.dataList[i].data[e].title=t.split("-")[1]+"月份",a.dataList[i].data[e].data=c},c=0,d=l.length;c<d;c++)h(c);2===e&&console.log(this.dataList)},getAreaId:function(t){return this.$store.state.areaIdList.filter(function(e){return e.ProvinceName===t||e.CityName===t||e.DistrictName===t})},timeSlot:function(t,e){var a=Object(m.a)(t);switch(e){case 211:this.growthC.time.startTime=a.t1,this.growthC.time.endTime=a.t2;break;case 212:this.growthL.time.startTime=a.t1,this.growthL.time.endTime=a.t2}},getData:function(t,e){var a=t[0];switch(e){case 211:this.growthC.time.startTime=a.t1,this.growthC.time.endTime=a.t2}},getCheckBox:function(t,e){var a=t[0];switch(e){case 212:this.growthL.cityList=a}},getMonthRange:function(t,e){var a=t[0];switch(e){case 212:this.growthL.time.startTime=a.t1,this.growthL.time.endTime=a.t2}},getRadio:function(t,e){var a=t[0];switch(e){case 211.1:this.growthC.sex=a;break;case 211.2:this.growthC.grade=a;break;case 212.1:this.growthL.sex=a;break;case 212.2:this.growthL.grade=a}}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contrast-box growth"},[a("div",{staticClass:"contrast"},[a("div",{staticClass:"c-main-box-box"},[a("div",{staticClass:"c-main-box"},[a("div",{staticClass:"c-main"},[a("div",{staticClass:"c-left"},[a("div",{staticClass:"filter-box"},[a("div",{staticClass:"title-date"},[a("h3",{staticClass:"title"},[a("em"),t._v("各"+t._s(t.levelByte.lower)+"园所"),a("span",[t._v("身体发育")]),t._v("横向对比")]),t._v(" "),a("ul",[a("li",{staticClass:"btn1",on:{click:function(e){t.timeSlot(7,211)}}},[t._v("最近7天")]),t._v(" "),a("li",{staticClass:"btn1",on:{click:function(e){t.timeSlot(30,211)}}},[t._v("最近30天")]),t._v(" "),a("li",[a("date-picker",{on:{getData:function(e){t.getData(arguments,211)}}})],1)])]),t._v(" "),a("div",{staticClass:"float"},[a("h3",[t._v("性别选择（单选）")]),t._v(" "),a("el-radio",{attrs:{tabList:t.sex},on:{getRadio:function(e){t.getRadio(arguments,211.1)}}})],1),t._v(" "),a("div",{staticClass:"float"},[a("h3",[t._v("年级选择（单选）")]),t._v(" "),a("el-radio",{attrs:{tabList:t.grade},on:{getRadio:function(e){t.getRadio(arguments,211.2)}}})],1)]),t._v(" "),a("div",{staticClass:"echarts-box"},[a("div",[a("h3",{staticClass:"pointTitle iconfont"},[t._v("平均身高")]),t._v(" "),"暂无总结"!==t.summary.c?a("bar",{attrs:{settings:t.averageHeight}}):a("no-data",{attrs:{item:"平均身高"}})],1),t._v(" "),a("div",[a("h3",{staticClass:"pointTitle iconfont"},[t._v("平均体重")]),t._v(" "),"暂无总结"!==t.summary.c?a("bar",{attrs:{settings:t.averageWeight}}):a("no-data",{attrs:{item:"平均体重"}})],1)]),t._v(" "),a("el-summary",{attrs:{data:t.summary.c}})],1),t._v(" "),a("div",{staticClass:"c-right"},[a("div",{staticClass:"filter-box"},[a("div",{staticClass:"title-date"},[a("h3",{staticClass:"title"},[a("em"),t._v("各"+t._s(t.levelByte.lower)+"儿童"),a("span",[t._v("身体发育")]),t._v("纵向对比")]),t._v(" "),a("ul",[a("li",{staticClass:"btn1 on",on:{click:function(e){t.timeSlot(90,212)}}},[t._v("最近3个月")]),t._v(" "),a("li",[a("month-range",{on:{getMonthRange:function(e){t.getMonthRange(arguments,212)}}})],1)])]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"20px"}},[a("h3",[t._v("【"+t._s(t.areaName)+"】选择"+t._s(t.levelByte.lower)+"（多选）")]),t._v(" "),a("el-checkbox",{attrs:{tabList:t.cityList},on:{getCheckBox:function(e){t.getCheckBox(arguments,212)}}})],1),t._v(" "),a("div",{staticClass:"float"},[a("h3",[t._v("性别选择（单选）")]),t._v(" "),a("el-radio",{attrs:{tabList:t.sex},on:{getRadio:function(e){t.getRadio(arguments,212.1)}}})],1),t._v(" "),a("div",{staticClass:"float"},[a("h3",[t._v("年级选择（单选）")]),t._v(" "),a("el-radio",{attrs:{tabList:t.grade},on:{getRadio:function(e){t.getRadio(arguments,212.2)}}})],1)]),t._v(" "),a("div",{staticClass:"echarts-box"},[a("pie-pie",{attrs:{dataList:t.dataList}})],1),t._v(" "),a("el-summary",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{data:t.summary.l}})],1)])])])])])},staticRenderFns:[]};var p=a("VU/8")(w,f,!1,function(t){a("LpKr")},"data-v-57e6c06c",null);e.default=p.exports}});
//# sourceMappingURL=7.0bffb27d37649d046124.js.map