webpackJsonp([9],{HFNv:function(e,a){},VOMS:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Xxa5"),r=t.n(n),i=t("exGp"),s=t.n(i),l=t("K7jp"),o=t("RA0d"),c=t("lZmn"),v=t("TgKm"),u=t("CFpQ"),d=t("aCEB"),m={name:"HealthyToday",components:{ElMap:l.a,ElLine:o.a,Matts:c.a,Pie:v.a},data:function(){return{loading:!0,tagInfoData:{name:"睡眠/体育活动",data:[]},averageSleep:{xData:["三原县","三原县","三原县","三原县","三原县","三原县","三原县","三原县","三原县","三原县"],data:[{value:[0,0,0,0,0,0,0,0,0,0]}],color:["#53e9ee"],yName:"时长（分）"},averageExercise:{xData:["三原县","三原县","三原县","三原县","三原县","三原县","三原县","三原县","三原县","三原县"],data:[{name:"高强度",value:[0,0,0,0,0,0,0,0,0,0]},{name:"中强度",value:[0,0,0,0,0,0,0,0,0,0]},{name:"低强度",value:[0,0,0,0,0,0,0,0,0,0]}],yName:"时长（分）"},sleepQuality:{data:[{value:0,name:"基本没睡"},{value:0,name:"睡眠较少"},{value:0,name:"睡眠正常"},{value:0,name:"睡眠充足"}],color:["#00bbf4","#2dcfea","#cdffc2","#2dcfea"],title:"睡眠"},sportQuality:{data:[{value:0,name:"运动强度高"},{value:0,name:"运动强度中"},{value:0,name:"运动强度低"}],color:["#315bff","#64dbff","#ff6dff"],title:"运动"},KindergartenData:[{unit:"家",subText:"园所总数",sum:0},{unit:"人",subText:"园长总数",sum:0},{unit:"人",subText:"在职教师总数",sum:0},{unit:"人",subText:"在园儿童总数",sum:0}],jobData:{data:[{value:0,name:"正高级"},{value:0,name:"高级"},{value:0,name:"一级"},{value:0,name:"二级"},{value:0,name:"三级"}],color:["#ffbc00","#57d0ff","#4d6bff","#ff6562","#9d70ff"],title:"职称分布",pieSize:{radius:["35%","45%"],center:["50%","35%"],title:{top:52,fontSize:12}}},ageData:{data:[{value:0,name:"00后"},{value:0,name:"90后"},{value:0,name:"80后"},{value:0,name:"70后"}],color:["#1683fb","#61ffe1","#24cbff","#7189ff"],title:"年龄分布",pieSize:{radius:["35%","45%"],center:["50%","35%"],title:{top:52,fontSize:12}}}}},methods:{refresh:function(){window.$(".refresh").find("i").addClass("loading"),this.loading=!0,console.log(this.$store.state.mapArea.level);var e={level:this.$store.state.mapArea.level,name:this.$store.state.mapArea.name};this.mapObiterData(e)},generalData:function(e){var a=this;this.KindergartenData[0].sum=e.gardenCount,this.KindergartenData[1].sum=e.kindergartenCount,this.KindergartenData[2].sum=e.teacherCount,this.KindergartenData[3].sum=e.totalCount;var t=["00","90","80","70"],n=["正高级","高级","一级","二级","三级"];if(this.jobData.data=[{value:0,name:"正高级"},{value:0,name:"高级"},{value:0,name:"一级"},{value:0,name:"二级"},{value:0,name:"三级"}],this.ageData.data=[{value:0,name:"00后"},{value:0,name:"90后"},{value:0,name:"80后"},{value:0,name:"70后"}],e.jobs.length)for(var r=function(t,r){var i=e.jobs.filter(function(e){return e.item1===n[t]});i.length?a.jobData.data[t].value=i[0].item2:a.jobData.data[t].value=0},i=0,s=n.length;i<s;i++)r(i);else this.jobData.data=[{name:"暂无数据",value:0}];if(e.ages.length){var l=function(n,r){var i=e.ages.filter(function(e){return e.item1.substring(0,1)===t[n].substring(0,1)});i.length?a.ageData.data[n].value=i.length:a.ageData.data[n].value=0};for(i=0,s=t.length;i<s;i++)l(i)}else this.ageData.data=[{name:"暂无数据",value:0}]},mapObiterData:function(e){var a=e.name;switch(e.level){case"省级":this.overview("provinceName",a),this.provinceData(a);break;case"市级":this.overview("cityName",a),this.cityData(a);break;case"县级":this.overview("districtName",a),this.districtData(a);break;case"园所级":var t=this.gardenList().filter(function(e){return e.name===a});this.overview("gardenId",t[0].gardenId)}},gardenList:function(){return[{name:"宝塔区双睿幼儿园",gardenId:1}]},overview:function(){var e=s()(r.a.mark(function e(a,t){var n,i,s,l,o,c,v;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=void 0,e.t0=a,e.next="provinceName"===e.t0?4:"cityName"===e.t0?8:"districtName"===e.t0?12:"gardenId"===e.t0?16:19;break;case 4:return e.next=6,u.a.get(d.a.sleepOverview,{provinceName:t});case 6:return n=e.sent,e.abrupt("break",19);case 8:return e.next=10,u.a.get(d.a.sleepOverview,{cityName:t});case 10:return n=e.sent,e.abrupt("break",19);case 12:return e.next=14,u.a.get(d.a.sleepOverview,{districtName:t});case 14:return n=e.sent,e.abrupt("break",19);case 16:return e.next=18,u.a.get(d.a.sleepOverview,{gardenId:t});case 18:n=e.sent;case 19:if(n.data){if(window.$(".refresh").find("i").removeClass("loading"),this.loading=!1,i=n.data.data,console.log("当前区域总览信息"),console.log(i),s=[],i.sleep)for(l=0,o=i.sleep.length;l<o;l++)s.push({name:i.sleep[l].item1,value:i.sleep[l].item2});else s=[{name:"暂无数据",value:0}];if(this.sleepQuality.data=s,s=[],i.sport)for(c=0,v=i.sport.length;c<v;c++)s.push({name:i.sport[c].item1,value:i.sport[c].item2});else s=[{name:"暂无数据",value:0}];this.sportQuality.data=s}case 20:case"end":return e.stop()}},e,this)}));return function(a,t){return e.apply(this,arguments)}}(),provinceData:function(){var e=s()(r.a.mark(function e(a){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(d.a.sportAndSleep,{provinceName:a});case 2:(t=e.sent).data&&this.tagInfo(t.data.data);case 4:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),cityData:function(){var e=s()(r.a.mark(function e(a){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(d.a.sportAndSleep,{cityName:a});case 2:(t=e.sent).data&&this.tagInfo(t.data.data);case 4:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),districtData:function(){var e=s()(r.a.mark(function e(a){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(d.a.sportAndSleep,{districtName:a});case 2:(t=e.sent).data&&this.tagInfo(t.data.data);case 4:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),tagInfo:function(e){for(var a={name:"",averageHeavy:0,averageCenter:0,averageLower:0,percentHeavy:0,percentCenter:0,percentLowery:0,averageSleep:0,averageNoSleep:0,averageLessSleep:0,averageNormalSleep:0,averageMoreSleep:0,percentNoSleep:0,percentLessSleep:0,percentNormalSleep:0,percentMoreSleep:0},t=0,n=e.length;t<n;t++)e[t]=window.$.extend({},a,e[t]);for(var r=[],i=void 0,s=function(a,t){e.filter(function(e){return e.name===i[a]}).length||r.push({name:i[a],averageHeavy:0,averageCenter:0,averageLower:0,percentHeavy:0,percentCenter:0,percentLowery:0,averageSleep:0,averageNoSleep:0,averageLessSleep:0,averageNormalSleep:0,averageMoreSleep:0,percentNoSleep:0,percentLessSleep:0,percentNormalSleep:0,percentMoreSleep:0})},l=0,o=(i=this.$store.state.mapArea.list.length?this.$store.state.mapArea.list:["暂无"]).length;l<o;l++)s(l);e=e.concat(r),this.tagInfoData.data=e;for(var c={xData:[],data:[{value:[]}]},v=0,u=(e=this.$common.compareSort(e,"averageSleep")).length;v<u;v++)c.xData.push(e[v].name),c.data[0].value.push(e[v].averageSleep);this.averageSleep=window.$.extend({},this.averageSleep,c),c={xData:[],data:[{name:"高强度",value:[]},{name:"中强度",value:[]},{name:"低强度",value:[]}]};for(var d=0,m=(e=this.$common.compareSort(e,"averageHeavy")).length;d<m;d++)c.xData.push(e[d].name),c.data[0].value.push(e[d].averageHeavy),c.data[1].value.push(e[d].averageCenter),c.data[2].value.push(e[d].averageLower);this.averageExercise=window.$.extend({},this.averageExercise,c)}},mounted:function(){this.$common.border(window.$(".bottom .content"))}},p={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"main-box activity"},[t("div",{staticClass:"main"},[t("div",{staticClass:"middle"},[t("div",{staticClass:"left"},[t("el-map",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"map",attrs:{tagInfoData:e.tagInfoData,"element-loading-background":"rgba(0, 0, 0, 0)"},on:{mapObiterData:e.mapObiterData,generalData:e.generalData}})],1),e._v(" "),t("div",{staticClass:"right"},[t("p",{staticClass:"refresh"},[e._v("数据每隔五分钟自动刷新"),t("button",{staticClass:"btn1",on:{click:e.refresh}},[t("i",{staticClass:"iconfont"},[e._v("")]),e._v("刷新")])]),e._v(" "),t("ul",{staticClass:"ranking"},[t("li",[e._m(0),e._v(" "),t("div",{staticClass:"content"},[-1!==e.averageSleep.data[0].value.findIndex(function(e){return 0!==e})?t("el-line",{attrs:{xData:e.averageSleep.xData,data:e.averageSleep.data,yName:e.averageSleep.yName,color:e.averageSleep.color}}):t("no-data",{attrs:{item:"平均睡眠"}})],1)]),e._v(" "),t("li",[e._m(1),e._v(" "),t("div",{staticClass:"content"},[-1!==e.averageExercise.data[0].value.findIndex(function(e){return 0!==e})&&-1!==e.averageExercise.data[1].value.findIndex(function(e){return 0!==e})&&-1!==e.averageExercise.data[2].value.findIndex(function(e){return 0!==e})?t("el-line",{attrs:{xData:e.averageExercise.xData,data:e.averageExercise.data,yName:e.averageExercise.yName,color:e.averageExercise.color,grid:{top:"20%",left:"0%",right:"0%",bottom:"10%",containLabel:!0}}}):t("no-data",{attrs:{item:"平均运动强度"}})],1)])])])]),e._v(" "),t("div",{staticClass:"line"}),e._v(" "),t("div",{staticClass:"bottom"},[t("ul",{staticClass:"statistics"},[t("li",[e._m(2),e._v(" "),t("div",{staticClass:"content"},["暂无数据"!==e.sleepQuality.data[0].name?t("pie",{attrs:{data:e.sleepQuality.data,color:e.sleepQuality.color,title:e.sleepQuality.title}}):t("no-data",{attrs:{item:"睡眠情况"}})],1)]),e._v(" "),t("li",[e._m(3),e._v(" "),t("ul",{staticClass:"content"},["暂无数据"!==e.sleepQuality.data[0].name?t("pie",{attrs:{data:e.sportQuality.data,color:e.sportQuality.color,title:e.sportQuality.title}}):t("no-data",{attrs:{item:"运动情况"}})],1)]),e._v(" "),t("li",[e._m(4),e._v(" "),t("div",{staticClass:"content"},[t("matts",{attrs:{data:e.KindergartenData}})],1)]),e._v(" "),t("li",[e._m(5),e._v(" "),t("ul",{staticClass:"content"},[t("li",["暂无数据"!==e.jobData.data[0].name?t("pie",{attrs:{data:e.jobData.data,color:e.jobData.color,title:e.jobData.title,pieSize:e.jobData.pieSize}}):t("no-data",{attrs:{item:"职称"}})],1),e._v(" "),t("li",["暂无数据"!==e.ageData.data[0].name?t("pie",{attrs:{data:e.ageData.data,color:e.ageData.color,title:e.ageData.title,pieSize:e.ageData.pieSize}}):t("no-data",{attrs:{item:"年龄"}})],1)])])])])])])},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{staticClass:"title"},[a("em"),this._v("以平均睡眠时长排名")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{staticClass:"title"},[a("em"),this._v("以平均运动强度排名")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{staticClass:"title"},[a("em"),this._v("睡眠情况分布")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{staticClass:"title"},[a("em"),this._v("运动情况分布")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{staticClass:"title"},[a("em"),this._v("幼儿园信息")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{staticClass:"title"},[a("em"),this._v("教师信息")])}]};var f=t("VU/8")(m,p,!1,function(e){t("HFNv")},"data-v-82a513fa",null);a.default=f.exports}});
//# sourceMappingURL=9.b115623c0552a83acfa3.js.map